const { appDataSource } = require('./data-source')

const getProductDetail = async (product_id) => {
  return await appDataSource.query(
    `
    SELECT
      p.name,
      p.price,
      p.productCode,
      p.description,
      p.rating,
      p.stock,
      pi.imageUrl
    FROM products p
    JOIN products_images pi ON pi.id = products.id
    WHERE p.id = ?
    `,
    [product_id]
  );
}

module.exports = { getProductDetail };